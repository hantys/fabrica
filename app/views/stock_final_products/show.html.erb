<%- model_class = StockFinalProduct -%>
<div class="page-header d-flex justify-content-lg-between align-items-center">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>

<dl class="dl-horizontal">
  <% if @stock_final_product.kind == "raw_material" %>
    <dt><strong><%= model_class.human_attribute_name(:hit) %>:</strong></dt>
    <dd><%= @stock_final_product.hit.try(:name) %></dd>
  <% else %>
    <dt><strong><%= model_class.human_attribute_name(:composition) %>:</strong></dt>
    <dd><%= @stock_final_product.composition.try(:name) %></dd>
  <% end %>
  <dt><strong><%= model_class.human_attribute_name(:weight) %>:</strong></dt>
  <dd><%= @stock_final_product.weight.round(3) %> kg</dd>
  <dt><strong><%= model_class.human_attribute_name(:estimated_weight) %>:</strong></dt>
  <dd><%= @stock_final_product.estimated_weight.round(3) %> kg</dd>
  <dt><strong><%= model_class.human_attribute_name(:cost) %>:</strong></dt>
  <dd><%= number_to_currency @stock_final_product.cost %></dd>
</dl>
<hr>
<legend>Itens usados</legend>
<ul>
  <% @stock_final_product.hit.hit_items.includes(:raw_material).each do |hit_item| %>
    <li>
      <%= hit_item.raw_material.name %> / <%= hit_item.weight.round(3) %> kg
    </li>
  <% end %>
  <li>
    Borra / <%= @stock_final_product.hit.residue %> kg
  </li>
</ul>
<hr>
<%= link_to t('.back', :default => t("helpers.links.back")),
              stock_final_products_path, :class => 'btn btn-secondary'  %>
<%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              edit_stock_final_product_path(@stock_final_product),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-danger' %>
